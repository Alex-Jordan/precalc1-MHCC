<?xml version="1.0" encoding="UTF-8" ?>

<!--
## ********************************************************************* ##
## Copyright 2016                                                        ##
## Jack Green, Nick Chura                                                ##
##                                                                       ##
## This file is part of the Mount Hood Community College                 ##
## Precalculus Project                                                   ##
##                                                                       ##
## ********************************************************************* ##
-->

<chapter xml:id="chapter-vertical-and-horizontal-translations" xmlns:xi="http://www.w3.org/2001/XInclude">

    <title>Vertical and Horizontal Translations</title>
    <introduction>
      <paragraphs>
        <title>Purpose</title>
        <p>In this activity, we will explore how to <term>transform</term> the graph of a function by making changes to its formula in the following ways:</p>
        <ul>
          <li><p><m>f(x) + k</m></p></li>
          <li><p><m>f(x + h)</m></p></li>
        </ul>
        <p>By the end of this activity, you will be able to:</p>
        <ul>
          <li><p>Recognize the geometric effect of these types of transformations</p></li>
          <li><p>Write the formula for a basic function which has been changed by these transformations.</p></li>
          <li><p>Sketch the graph of a basic function which has been changed by these transformations.</p></li>
        </ul>
      </paragraphs>

      <exercise>
          <title>Function Transformations 1</title>

          <webwork xml:id="vertical-transformation-with-graph">

              <pg-macros>
                  <macro-file>PGchoicemacros.pl</macro-file>
              </pg-macros>
              <setup>
                <var name="$choice">
                  <set>
                      <member>\text{The graph moves right.}</member>
                      <member>\text{The graph moves left.}</member>
                      <member correct="yes">\text{The graph moves up.}</member>
                      <member>\text{The graph moves down.}</member>
                      <member>\text{None of these}</member>
                  </set>
                </var>
                <var name="$point">
                  <set>
                      <member correct="yes">y=f(x)-3=x^2-3</member>
                      <member>y=f(x)+3=x^2+3</member>
                      <member>\text{None of these}</member>
                  </set>
                </var>
                <pg-code>
                  Context('Numeric');
                  $choice = RadioButtons(
                    ["The graph moves right.","The graph moves left.","The graph moves up.","The graph moves down.","None of these"],
                    2, labels => ["The graph moves right.","The graph moves left.","The graph moves up.","The graph moves down.","None of these"],
                    displayLabels => 0
                  );
                  $point = RadioButtons(
                    ["\(y = f(x) - 3 = x^2 - 3\)","\(y = f(x) + 3 = x^2 + 3\)","None of these"],
                    0, labels => ["y=f(x)-3=x^2-3","\(y=f(x)+3=x^2+3\)","None of these"],
                    displayLabels => 0
                  );
                </pg-code>
              </setup>

              <statement>
                  <p>[@MODES(HTML=&gt;'&lt;iframe scrolling="no" src="https://www.geogebra.org/material/iframe/id/pXUT7wZS/width/431/height/313/border/888888/rc/false/ai/false/sdz/false/smb/false/stb/false/stbh/true/ld/false/sri/false/at/auto" width="431px" height="313px" style="border:0px;"&gt; &lt;/iframe&gt;', TeX =&gt;"A GeoGebra applet.");@]*</p>
                  <p>The graph starts by showing the function <m>f(x) = x^2</m>. Moving the slider will change the function by adding a number <m>k</m> outside of the function. Use the slider to change the value of <m>k</m> to the number <m>5</m>. What happened to the graph as you changed the formula to <m>f(x) + 5 = x^2 + 5</m>?</p>
                  <p><var name="$choice" form="buttons" /></p>
                  <p>Which equation below would graph as a parabola with a vertex at the point <m>(0,-3)</m>?</p>
                  <p><var name="$point" form="buttons" /></p>
              </statement>
          </webwork>
      </exercise>

      <exercise>
          <title>Function Transformations 2</title>

          <webwork xml:id="vertical-and-horizontal-transformation-with-graph">
            <pg-macros>
                <macro-file>PGchoicemacros.pl</macro-file>
            </pg-macros>

            <setup>
              <var name="$changeH">
                <set>
                    <member>\text{The graph moves right.}</member>
                    <member correct="yes">\text{The graph moves left.}</member>
                    <member>\text{The graph moves up.}</member>
                    <member>\text{The graph moves down.}</member>
                    <member>\text{None of these}</member>
                </set>
              </var>
              <var name="$changeHandK">
                <set>
                    <member>y=f(x+5)+3=(x+5)^2+3</member>
                    <member correct="yes">y=f(x-5)+3=(x-5)^2+3</member>
                    <member>y=f(x-3)+5=(x-3)^2+5</member>
                    <member>y=f(x+3)-5=(x+3)^2-5</member>
                    <member>\text{None of these}</member>
                </set>
              </var>
              <pg-code>
                Context('Numeric');
                $changeH = RadioButtons(
                  ["The graph moves right.","The graph moves left.","The graph moves up.","The graph moves down.","None of these"],
                  1, labels => ["The graph moves right.","The graph moves left.","The graph moves up.","The graph moves down.","None of these"],
                  displayLabels => 0
                );
                $changeHandK = RadioButtons(
                  ["\(y = f(x+5) + 3 = (x+5)^2 + 3\)","\(y = f(x-5) + 3 = (x-5)^2 + 3\)","\(y = f(x-3) + 5 = (x-3)^2 + 5\)","\(y = f(x+3) - 5 = (x+3)^2 - 5\)","None of these"],
                  1, labels => ["y=f(x+5)+3=(x+5)^2+3","y=f(x-5)+3=(x-5)^2+3","y=f(x-3)+5=(x-3)^2+5","y=f(x+3)-5=(x+3)^3+5","None of these"],
                  displayLabels => 0
                );
              </pg-code>
            </setup>

            <statement>
                <p>[@MODES(HTML=&gt;'&lt;iframe scrolling="no" src="https://www.geogebra.org/material/iframe/id/qHkxbUVg/width/431/height/313/border/888888/rc/false/ai/false/sdz/false/smb/false/stb/false/stbh/true/ld/false/sri/false/at/auto" width="431px" height="313px" style="border:0px;"&gt; &lt;/iframe&gt;', TeX =&gt;"A GeoGebra applet.");@]*</p>
                <p>The graph starts by showing the function <m>y = f(x) = x^2</m>. Moving the sliders will change the function by adding a number <m>k</m> outside the function and a number <m>h</m> inside the function. What happens to the graph as you change the formula to <m>y = f(x+5) = (x+5)^2</m>?</p>
                <p><var name="$changeH" form="buttons" /></p>
                <p>Which equation below would graph as a parabola with a vertex at the point <m>(5,3)</m>?</p>
                <p><var name="$changeHandK" form="buttons" /></p>
            </statement>
          </webwork>
      </exercise>
<!-- Begin last activity here... -->
      <exercise>
          <title>Function Transformations 3</title>

          <webwork xml:id="vertical-and-horizontal-transformation-application-projectile-motion">
            <pg-macros>
                <macro-file>PGchoicemacros.pl</macro-file>
            </pg-macros>

            <setup>
              <var name="$howLongNumber1">
                <static>0</static>
              </var>

              <var name="$howLongNumber2">
                <static>1</static>
              </var>

              <var name="$howLongNumber3">
                <static>2</static>
              </var>

              <var name="$units">
                <set>
                  <member correct="yes">\text{Seconds}</member>
                  <member>\text{Feet}</member>
                  <member>\text{None of these}</member>
                </set>
              </var>

              <var name="$howLongExpression">
                <static>t-1</static>
              </var>

              <var name="$direction">
                <set>
                  <member>\text{Shifted Up}</member>
                  <member>\text{Shifted Down}</member>
                  <member correct="yes">\text{Shifted Right}</member>
                  <member>\text{Shifted Left}</member>
                </set>
              </var>

              <var name="$y1">
                <static>40</static>
              </var>

              <var name="$y2">
                <static>45.1</static>
              </var>

              <var name="$y3">
                <static>40.4</static>
              </var>

              <var name="$y4">
                <static>25.9</static>
              </var>

              <var name="$y5">
                <static>1.6</static>
              </var>

            </setup>

            <pg-code>
              $units = PopUp(["?", "Seconds", "Feet", "None of these"], "Seconds");
              $direction = PopUp(["?", "Shifted Up", "Shifted Down", "Shifted Right", "Shifted Left"], "Shifted Right");
              $howLongExpression = Compute("t-1");
            </pg-code>

            <statement>
              <p>The function <m>h(t) = -4.9t^2 + 10t + 40</m> will approximate the height of an object which was thrown straight upward at a speed of <quantity><mag>10</mag><unit base="meter" /><per base="second"/></quantity> at time <m>t = </m><quantity><mag>0</mag><unit base="second"/></quantity> from a height of <quantity><mag>40</mag><unit base="meter"/></quantity>. See the graph below.</p>
              <p>You can move the point to see how high the object will be at a certain time, or when the object will hit the ground.</p>
              <p>[@MODES(HTML=&gt;'&lt;iframe scrolling="no" src="https://www.geogebra.org/material/iframe/id/BmHTxqW6/width/421/height/260/border/888888/sri/true" width="421px" height="260px" style="border:0px;"&gt; &lt;/iframe&gt;', TeX =&gt;"A GeoGebra applet.");@]*</p>
              <p>Now, we can use this function to describe other situations involving such an object. For example, suppose the person had waited <quantity><mag>1</mag><unit base="second"/></quantity> until <m>t = 1</m> before throwing the object.</p>
              <p>If the person waited <quantity><mag>1</mag><unit base="second"/></quantity>before throwing it, how long would the object be in the air when <m>t = 0</m>?</p>
              <p><var name="$howLongNumber1" width="15" /> <var name="$units" form="buttons" /></p>
              <p>If the person waited <quantity><mag>1</mag><unit base="second"/></quantity> before throwing it, how long would the object be in the air when <m>t = 1</m>?</p>
              <p><var name="$howLongNumber2" width="15" /> <var name="$units" form="buttons" /></p>
              <p>If the person waited <quantity><mag>1</mag><unit base="second"/></quantity>before throwing it, how long would the object be in the air when <m>t = 2</m>?</p>
              <p><var name="$howLongNumber3" width="15" /> <var name="$units" form="buttons" /></p>
              <p>For any time <m>t</m>, how long would the object be in the air when time = <quantity><mag>t</mag><unit base="second"/></quantity>?</p>
              <p><var name="$howLongExpression" width="15" /> <var name="$units" form="buttons" /></p>
              <p>You know that <m>f(t)</m> is a function whose formula has <m>t</m>'s in it, where t is the input.  Based on your answer to that last question, what is the input to the function now?</p>
              <p><var name="$howLongExpression" width="15" /></p>
              <p>What is the formula for <m>f(t-1)</m>?</p>
              <p><m>f(t-1) = -4.9(</m><var name="$howLongExpression" width="10" /><m>)^2 + 10(</m><var name="$howLongExpression" width="10" /><m>) + 40</m></p>
              <p>How would you expect the graph of <m>y = f(t-1)</m> to compare with the graph of <m>y = f(t)</m> shown above?</p>
              <p>The graph of <m>y = f(t-1)</m> would be <var name="$direction" form="popup" /> from the graph of <m>f(t)</m> shown.</p>

              <p>Below is a table of values, showing values of <m>f(t)</m>. Complete the table with values of <m>f(t-1)</m>.</p>
              <table>
                  <tabular top="medium" bottom="medium" left="medium" right="medium">
                      <col halign="center"/>
                      <col halign="center"/>
                      <col halign="center"/>
                      <row>
                          <cell><m>t</m></cell>
                          <cell><m>f(t)</m></cell>
                          <cell><m>f(t-1)</m></cell>
                      </row>
                      <row>
                          <cell><m>0</m></cell>
                          <cell><m>40</m></cell>
                          <cell><m>---</m></cell>
                      </row>
                      <row>
                          <cell><m>1</m></cell>
                          <cell><m>45.1</m></cell>
                          <cell><var name="y1" width="10"/></cell>
                      </row>
                      <row>
                          <cell><m>2</m></cell>
                          <cell><m>40.4</m></cell>
                          <cell><var name="$y2" width="10"/></cell>
                      </row>
                      <row>
                          <cell><m>3</m></cell>
                          <cell><m>25.9</m></cell>
                          <cell><var name="$y3" width="10"/></cell>
                      </row>
                      <row>
                          <cell><m>4</m></cell>
                          <cell><m>1.6</m></cell>
                          <cell><var name="$y4" width="10"/></cell>
                      </row>
                  </tabular>
              </table>
            </statement>
          </webwork>
        </exercise>

    </introduction>

    <conclusion>
      <paragraphs>
        <p>To <term>transform</term> a function means to change it -- either its <term>input</term> or its <term>output</term>. If the change is only in position (the graph looks the same, but is in a different location) the change is called a <term>translation</term>. [We will look at other types of transformations in another section.]</p>
        <p>In this lesson we learn how to translate a graph or a table of values. This will involve adding and subtracting values to the input and/or the output of a function's formula.</p>
        <p>It will be important for us to distinguish between the input and the output of a function. For instance, we must understand that the function <md><mrow>f(x) = x^2 - 5x</mrow></md></p>
        <p>has an input <m>x</m> and an output <m>f(x)</m>.</p>
        <p>If the input is changed to <m>x−3</m>, then the output is now <m>f(x−3)</m>. If the input is changed to <m>2w + 5</m>, then the ouput is <m>f(2w + 5)</m>.</p>
        <p>We must also remember how a formula works. For example, if you put <m>x</m> into a formula, then the formula will have <m>x</m>’s in it. But if you put <m>x–3</m> into a formula, then it will have <m>(x-3)</m>’s in it.</p>
        <p>Therefore, for the function <m>f(x) = x^2 - 5x</m>, we would have: <md><mrow>f(x−3) = (x−3)^2 − 5(x−3)</mrow></md> and <md><mrow>f(2w+5) = (2w+5)^2 − 5(2w+5)</mrow></md></p>
      </paragraphs>
      <paragraphs>
        <p>Now what does this do to the graph of <m>f(x)</m>? It turns out that subtracting 3 from the input just moves the graph of the function to the right. This is called a <term>horizontal translation</term>.</p>
        <p>
          <ul>
            <li>Adding a number to the input will move the graph to the left.</li>
            <li>Subtracting a number from the input will move the graph to the right.</li>
          </ul>
        </p>
        <p>In fact, whenever you do anything to the input of a function, the result is some kind of horizontal change to the graph. In this section, we see that adding to the input will produce a horizontal shift(translation) of the graph to the left or the right.</p>
        <p>On the other hand, if you make changes to the outside of the function, it will affect the graph vertically. In this section, we see that adding or subtracting from the output will produce a vertical shift of the graph up or down.</p>
        <p>
          <ul>
            <li>Adding a number to the ouput will move the graph up.</li>
            <li>Subtracting a number from the output will move the graph down.</li>
          </ul>
        </p>
      </paragraphs>


<!--    <example>

        <p>The function <m>h(t) = -4.9t^2 + 10t + 40</m> will approximate the height of an object which was thrown straight upward at a speed of <quantity><mag>10</mag><unit base="meter" /><per base="second"/></quantity> at time <m>t = 0</m> seconds from a height of <quantity><mag>40</mag><unit base="meter"/></quantity>. See the graph below.</p>
        <geogebra materialID="BmHTxqW6" width="421" height="260" />
        https://www.geogebra.org/m/Ytwv3fEB

        https://www.geogebra.org/material/iframe/id/BmHTxqW6/width/421/height/260/border/888888/sri/true
        <p>You can move the point to see how hight the object will be at a certain time, or when the object will hit the ground.</p>
        <p>Now, we can use this function to describe other situations involving such an object. For example, if the person had waited one second before throwing the object, then the graph would be shifted horizontally to the right by one second.</p>
        <geogebra materialID="kCE4de8p" width="421" height="260" />
        https://www.geogebra.org/m/N9Tx36kF
        <p>To shift the graph to the right, we make the transformation: <md><mrow>h(t-1) = -4.9(t-1)^2 + 10(t-1) + 40</mrow></md></p>
        <p>Next, suppose the person waited one second before throwing the object but also took it an additional <quantity><mag>12</mag><unit base="feet"/></quantity> upward before throwing it. This involves a horizontal shift of <quantity><mag>1</mag><unit base="second"/></quantity> to the right and a vertical shift of <quantity><mag>12</mag><unit base="meter"/></quantity> upward:<md>
          <mrow>h(t-1) + 12 \amp= -4.9(t-1)^2 + 10(t-1) + 40 + 12</mrow>
          <mrow>\amp=-4.9(t-1)^2 + 10(t-1) + 52</mrow></md></p>
        <geogebra materialID="neB9zc2z" width="421" height="260" />
        https://www.geogebra.org/m/avHM2ZSt
      </example>
    -->

        <p>Now let's put this information to the test to determine the equation of a function which has been transformed.</p>

      <exercise>
        <title>Match a formula to its graph</title>

        <webwork xml:id="webwork-match-formula-to-graph-horizontal-and-vertical-shifts">
          <pg-macros>
              <macro-file>PGchoicemacros.pl</macro-file>
          </pg-macros>
          <setup>
            <var name="$formula1">
              <set>
                  <member>y = (x+3)^2 - \sqrt{x}</member>
                  <member>y = x^2 - \sqrt{x+3}</member>
                  <member correct="yes">y = (x+3)^2 - \sqrt{x+3}</member>
                  <member>y = x^2 - \sqrt{x} - 3</member>
                  <member>\text{None of these}</member>
              </set>
            </var>
            <var name="$formula2">
              <set>
                  <member>y = 5\left|x-1\right| - (x-1)^2</member>
                  <member>y = 5\left|x-2\right| - (x-2)^2</member>
                  <member>y = 5\left|x-1\right| - (x-1)^2 - 2</member>
                  <member correct="yes">y = 5\left|x-2\right| - (x-2)^2 - 1</member>
                  <member>\text{None of these}</member>
              </set>
            </var>
            <var name="$formula3">
              <set>
                  <member correct="yes">y = \sqrt{2x + 4} + 1</member>
                  <member>y = \sqrt{2x + 2} + 1</member>
                  <member>\text{None of these}</member>
              </set>
            </var>
            <pg-code>
              Context('Numeric');
              $formula1 = RadioButtons(
                ["\(y = (x+3)^2 - \sqrt{x}\)","\(y = x^2 - \sqrt{x+3}\)","\(y = (x+3)^2 - \sqrt{x+3}\)","\(y = x^2 - \sqrt{x} - 3\)","None of these"],
                2, labels => ["y = (x+3)^2 - sqrt(x)","y = x^2 - sqrt(x+3)","y = (x+3)^2 - (x+3)","y = x^2 - sqrt(x) - 3","None of these"],
                displayLabels => 0
              );
              $formula2 = RadioButtons(
                ["\(y = 5\left|x-1\right| - (x-1)^2\)","\(y = 5\left|x-2\right| - (x-2)^2\)","\(y = 5\left|x-1\right| - (x-1)^2 - 2\)","\(y = 5\left|x-2\right| - (x-2)^2 - 1\)","None of these"],
                3, labels => ["y = 5|x-1| - (x-1)^2","y = 5|x-2| - (x-2)^2","y = 5|x-1| - (x-1)^2 - 2","y = 5|x-2| - (x-2)^2 - 1","None of these"],
                displayLabels => 0
              );
              $formula3 = RadioButtons(
                ["\(y = \sqrt{2x + 4} + 1\)","\(y = \sqrt{2x + 2} + 1\)","None of these"],
                0, labels => ["y = sqrt(2x + 4) + 1","y = sqrt(2x + 2) + 1","None of these"],
                displayLabels => 0
              );
            </pg-code>
          </setup>
          <statement>
              <p>In each graph below, think of the dashed green graph as the beginning function <m>f(x)</m>. The solid red graph is <m>y = f(x)</m> after it has been transformed in some way.</p>

              <p>[@MODES(HTML=&gt;'&lt;iframe scrolling="no" src="https://www.geogebra.org/material/iframe/id/VdWn6se7/width/431/height/313/border/888888/rc/false/ai/false/sdz/false/smb/false/stb/false/stbh/true/ld/false/sri/false/at/auto" width="431px" height="313px" style="border:0px;"&gt; &lt;/iframe&gt;', TeX =&gt;"A GeoGebra applet.");@]*</p>
              <p>The dashed green graph shows <m>y = f(x) = x^2 - \sqrt{x}</m>. Use what you know about transformations to choose the correct formula for the solid red graph shown.</p>
              <p><var name="$formula1" form="buttons" /></p>

              <p>[@MODES(HTML=&gt;'&lt;iframe scrolling="no" src="https://www.geogebra.org/material/iframe/id/tunQVvGS/width/431/height/313/border/888888/rc/false/ai/false/sdz/false/smb/false/stb/false/stbh/true/ld/false/sri/false/at/auto" width="431px" height="313px" style="border:0px;"&gt; &lt;/iframe&gt;', TeX =&gt;"A GeoGebra applet.");@]*</p>
              <p>The dashed green graph shows <m>y = f(x) = 5\left|x\right| - x^2</m>. Use what you know about transformations to choose the correct formula for the solid red graph shown.</p>
              <p><var name="$formula2" form="buttons" /></p>

              <p>[@MODES(HTML=&gt;'&lt;iframe scrolling="no" src="https://www.geogebra.org/material/iframe/id/MRqrcdFC/width/431/height/313/border/888888/rc/false/ai/false/sdz/false/smb/false/stb/false/stbh/true/ld/false/sri/false/at/auto" width="431px" height="313px" style="border:0px;"&gt; &lt;/iframe&gt;', TeX =&gt;"A GeoGebra applet.");@]*</p>
              <p>The dashed green graph shows <m>y = f(x) = \sqrt{2x} + 1</m>. Use what you know about transformations to choose the correct formula for the solid red graph shown.</p>
              <p><var name="$formula3" form="buttons" /></p>
          </statement>
        </webwork>
      </exercise>

      <exercise>
        <title>Write a formula to match a graph</title>
        <webwork xml:id="webwork-write-formula-for-graph-horizontal-and-vertical-shifts">
          <pg-macros>
          </pg-macros>

          <setup>
            <var name="$f">
              <static>(x-4)^2+1</static>
            </var>
            <var name="$h1">
              <static>4</static>
            </var>
            <var name="$h2">
              <static>-2</static>
            </var>
            <var name="$k1">
              <static>1</static>
            </var>
            <var name="$k2">
              <static>3</static>
            </var>
            <var name="$g">
              <static>(x+2)^2+3</static>
            </var>

            <pg-code>
              $h1 = Real(random(1, 9, 1));
              $h2 = Real(random(-9, -1, 1));
              $k1 = Real(random(-5, 5, 1));
              $k2 = Real(random(-5, 5, 1));
              $f = Compute("(x - $h1)^2 + $k1");
              $g = Compute("(x - $h2)^2 + $k2");
            </pg-code>
          </setup>

            <statement>
              <ul>
                <li><p>Write a formula for the parabola <m>f(x) = x^2</m> which has been shifted so its vertex is at the point <m>(<var name="$h1"/>, <var name="$k1"/>)</m>.</p>
                    <p><m>y = </m><var name="$f" width="20" /></p></li>
                <li><p>Write a formula for the parabola <m>f(x) = x^2</m> which has been shifted so its vertex is at the point <m>(<var name="$h2"/>, <var name="$k2"/>)</m>.</p>
                    <p><m>y = </m><var name="$g" width="20" /></p></li>
              </ul>
            </statement>
            <solution>
              <p>The correct formulas are <m>y = <var name="$f"/></m> and <m>y = <var name="$g"/></m>.</p>
            </solution>
          </webwork>
      </exercise>

      <title>Gist of Vertical and Horizontal Translations</title>


    </conclusion>

</chapter>
