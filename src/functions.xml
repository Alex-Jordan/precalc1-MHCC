<?xml version="1.0" encoding="UTF-8" ?>

<!--********************************************************************
Copyright 2016 Jack Green and Nick Chura

*********************************************************************-->

<chapter xml:id="functions" xmlns:xi="http://www.w3.org/2001/XInclude">


<title>Functions</title>


  <section xml:id="functions-gist">
        <p>A function is a rule that be in the form of a graph or a table of values or a formula.  It may even be a sentence or a set of instructions.  A function takes an input value and uses the rule to create an output value.</p>

       <p>Function notation looks like this: <m>f(\text{input})=\text{output}</m></p>

        <p>But, instead of writing the words <q>input</q> and <q>output</q> we usually use variables, like x and y. Then we define in words what the variables actually mean or represent.  Most often the notation will look something like this: <m>f(x)=y</m>
</p>

     <p>Inside the parentheses is the <term>Independent Variable</term>, like <m>x</m>, and outside the parentheses, on the other side of the equals sign, is the <term>Dependent Variable</term>, like <m>y</m>.</p>


     <example>
         <p>Let <m>E</m> be the fuel efficiency, in miles per gallon, of a car traveling at <m>s</m> miles per hour. For speeds between 5 and 75 miles per hour, the function in <xref ref="speed-vs-efficiency"/> tells us the efficiency of the car.</p>


          <figure xml:id="speed-vs-efficiency">
              <caption>Fuel Economy versus Speed</caption>
              <image>
                <latex-image-code>
                <![CDATA[\begin{tikzpicture}
                \begin{axis}[ymin=0, ymax=35, xlabel={Speed (mph)}, ylabel={Fuel Economy (mpg)}, minor xtick={5,10,...,75}, ytick={0,10,...,30}, minor ytick={0,5,...,35}, xmin=5, xmax=75, grid=both, axis background/.style={fill=yellow!40}]
                    \addplot[smooth, thick, color=red] coordinates {(5, 11) (10, 16) (15, 22) (20, 26) (25, 28) (30,29) (35, 29.5) (40, 30) (50, 30.5) (55, 30) (65,27) (70, 25) (75, 23)};
                \end{axis}
                \end{tikzpicture}]]>
                </latex-image-code>
              </image>

          </figure>

          <p>Therefore, the <em>efficiency is a function of the speed</em>.    Using function notation we could write an equation saying the same thing: <m>E=f(s)</m></p>

          <p>The input is the speed, <m>s</m>, and the output is the efficiency <m>E</m>. The function <m>f(s)</m> is the graph itself.</p>

          <p>The efficiency of the car is given by the height of the graph.  Therefore <m>f(35) = 28</m> means, <q>The efficiency of the car traveling at 35 mph is 28 mpg</q>.</p>

     </example>


       <subsection>
           <title>Inputs have UNIQUE outputs</title> 

           <p>An important aspect of functions is that each input can only have one output.  For instance the car can only have one efficiency at a given speed. The cannot get 10 mpg and 20 mpg simultaneously.</p>
  
           <p>However, it is possible there are multiple inputs that give you the same output.  From the graph we see that a fuel efficiency of 25 mpg can be attained by traveling at a speed of about 20 mph and also at about 70 mph.</p>


       </subsection>

         <exercises>
            <exercise>
                <title>Equation for a Secant Line</title>

                <webwork xml:id="webwork-secant-line">

                    <pg-macros>
                        <macro-file>parserImplicitPlane.pl</macro-file>
                    </pg-macros>

                    <setup>
                        <var name="$a">
                            <static>10</static>
                        </var>
                        <var name="$b">
                            <static>1</static>
                        </var>
                        <var name="$f">
                            <static>\frac{10}{x^2+1}</static>
                        </var>
                        <var name="$x1">
                            <static>1</static>
                        </var>
                        <var name="$x2">
                            <static>3</static>
                        </var>
                        <var name="$y1">
                            <static>5</static>
                        </var>
                        <var name="$y2">
                            <static>1</static>
                        </var>
                        <var name="$slope">
                            <static>2</static>
                        </var>
                        <var name="$line">
                            <static>y=2(x-1)+5</static>
                        </var>

                        <pg-code>
                            Context("ImplicitPlane")->flags->set(reduceConstants=>0);
                            $x1 = Real(1);
                            $x2 = Real(random(3, 5, 1));
                            $b = Real(random(1,3,1));
                            $a = Real(lcm($x1**2+$b,$x2**2+$b))*random(1,3,1);
                            $f = Formula("$a/(x^2+$b)");
                            $y1 = $f->eval(x=>$x1);
                            $y2 = $f->eval(x=>$x2);
                            $Dy = $y2 - $y1;
                            $Dx = $x2 - $x1;
                            $slope = Formula("$Dy/$Dx");
                            $line = Compute("y = $slope*(x - $x1) + $y1");
                        </pg-code>
                    </setup>

                    <statement>
                        <p>Find a formula for the line passing through the function <m>f(x) = <var name="$f"/></m>  at <m>x = <var name="$x1"/></m> and <m>x = <var name="$x2"/></m>.</p>
                        <p><answer var="$line" width="20" /></p>
                    </statement>

                    <solution>
                        <p>Since <m>f(<var name="$x1"/>) = <var name="$y1"/></m>, and <m>f(<var name="$x2"/>) = <var name="$y2"/></m>, then the slope of this line is <m>\frac{<var name="$y2"/> - <var name="$y1"/>}{<var name="$x2"/> - <var name="$x1"/>}=<var name="$slope"/></m>. Using the point-slope form, we can write the line's equation as <m>y=<var name="$slope"/>(x-<var name="$x1"/>)+<var name="$y1"/></m>.</p>
                    </solution>
                </webwork>

            </exercise>
         </exercises>



    </section>


</chapter>
