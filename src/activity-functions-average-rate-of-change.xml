<?xml version="1.0" encoding="UTF-8" ?>

<!-- 
## ********************************************************************* ##
## Copyright 2016                                                        ##
## Jack Green, Nick Chura                                                ##
##                                                                       ##
## This file is part of the Mount Hood Community College                 ##
## Precalculus Project                                                   ##
##                                                                       ##
## ********************************************************************* ##
-->

<section xml:id="activity-functions-average-rate-of-change" xmlns:xi="http://www.w3.org/2001/XInclude">
    <title>Average Rate of Change</title>
    <introduction>
        <p>In this activity we introduce the math symbol <m>\Delta</m> that represents change and we develop the concept of <em>average rate of change</em></p>

        <p>It will be helpful to remember that the speed of an object is defined as the distance the object travels divided by the time it takes to travel that distance.</p>

        <p>After completing this lesson you will be able to:
            <ul>
                <li>
                    <p>Perform calculations using function notation including Average Rate of Change.</p>
                    <p>Define an interval and understand the use of inequality notation to denote an interval.</p>
                </li>
            </ul>
        </p>

        <p>The prerequisites for this lesson are knowing how to calculate the slope of a line and understanding the meaning of slope.</p>
    </introduction>
    
    <subsection>
        <title>Intuitive Knowledge</title>
        <p>Let's start by realizing you already understand the concept of <em>average rate of change</em> but maybe you have never hear the phrase before.</p>
        <exercise>
            <webwork xml:id="fastest-train">
                <pg-macros>
                    <macro-file>PGchoicemacros.pl</macro-file>
                </pg-macros>
            
                <setup>
                    <var name="$train">
                        <set>
                            <member correct="yes">\text{Blue Train}</member>
                            <member>\text{Red Train}</member>
                            <member>\text{Green Train}</member>
                        </set>
                    </var>
                    <var name="$slope">
                        <set>
                            <member>\text{mope}</member>
                            <member>\text{dope}</member>
                            <member correct="yes">\text{slope}</member>
                            <member>\text{scope}</member>
                        </set>
                    </var>

                    <pg-code>
                        $train = RadioButtons(
                            ["Blue Train","Red Train","Green Train"],
                            0, labels => ["Blue Train","Red Train","Green Train"],
                            displayLabels => 0
                        );
                        $slope = RadioButtons(
                            ["mope","dope","slope","scope"],
                            2, labels => ["mope","dope","slope","scope"],
                            displayLabels => 0
                        );
                    </pg-code>
                </setup>

                <statement>
                    <p>The graph below shows the position of three trains at various times</p>
                    <p>[@MODES(HTML=&gt;'&lt;iframe scrolling="no" src="https://www.geogebra.org/material/iframe/id/TBRTfRbt/width/431/height/313/border/888888" width="431px" height="313px" style="border:0px;" width="431px" height="313px" style="border:0px;"&gt; &lt;/iframe&gt;', TeX =&gt;"A GeoGebra applet.");@]*</p>
                    <p>Which of the three trains is traveling a the fastest speed?</p>
                    <p><var name="$train" form="buttons" /></p>
                    <p><em>What do you call the steepness of the line?</em></p>
                    <p>The graph of the fastest train has the greatest <q>blank</q></p>
                    <p><var name="$slope" form="buttons" /></p>
                </statement>
            </webwork>
        </exercise>

        <p>It turns out that <em>average rate of change</em> is just another way to talk about slope.</p>

        <exercise>
            <introduction>
                <p>The interactive graph below is that of a function <m>D = f(t)</m> where <em>D</em> is the number of miles a train is from downtown at <m>t</m> hours after 8 am</p>
            </introduction>

            <webwork xml:id="change-in-function">
                <pg-macros>
                    <macro-file>parserFunction.pl</macro-file>
                </pg-macros>
                <setup>
                    <var name="$Vchange">
                        <static>16</static>
                    </var>
                    <var name="$Hchange">
                        <static>1</static>
                    </var>
                    <!-- Within parserFunction below the formula has nothing to do with the problem.  It's only there to be function to generate values for us -->
                    <pg-code>
                        Context('Numeric');
                        $Vchange = Real(16);
                        Context('Numeric');
                        $Hchange = Real(1);
                        parserFunction("f(x)"=>"(sin(x)+2)/pi");
                        Context()->flags->set(reduceConstantFunctions=>0);
                        Context()->flags->set(formatStudentAnswer=>"parsed");
                        $difference=Formula("f(5)-f(2)");
                    </pg-code>
                </setup>
          
                <statement>
                    <p>[@MODES(HTML=&gt;'&lt;iframe scrolling="no" src="https://www.geogebra.org/material/iframe/id/gWxmhsGB/width/431/height/313/border/888888" width="431px" height="313px" style="border:0px;" width="431px" height="313px" style="border:0px;"&gt; &lt;/iframe&gt;', TeX =&gt;"A GeoGebra applet.");@]*</p>

                    <p>As the time changes along the horizontal axis the result is the changing position of the train measured on the vertical axis.  The key word here is <q>change</q></p>
                    <p><ol>
                        <li>
                            <p>Use the graph to estimate the change in distance between the 2nd and 3rd hours.</p>
                        </li>
                        <li>
                            <p><m>f(3) - f(2) = </m> <var name="$Vchange" width="3" /> miles.</p>
                        </li>
                    </ol></p>
                    <p><ol>
                        <li>
                            <p>What is the change in time between the 2nd and 3rd hours?</p>
                        </li>
                        <li>
                            <p>The change in time is <var name="$Hchange" width="3" /> hour(s).</p>
                        </li>
                    </ol></p>
                    <p>Use function notation to write an expression that represents the <em>chang in distance</em> between the 2nd and 5th hours</p>
                    <p>The change in distance can be expressed as <var name="$difference" width="10" /></p>
                </statement>
            </webwork>
        </exercise>

        <p>In math we use the greek letter <m>\Delta</m> to mean <q>change in</q>. In our train story where <m>D = f(t)</m> the expression <m>\Delta f</m> means <q>change in miles from downtown</q>.  A positive change means the train travels farther from downtown and a negative change means the train travels towards downtown.</p>

        <exercise>
            <webwork>
                <setup>
                    <var name="$chngDist">
                        <static>20</static>
                    </var>
                    <var name="$meaning" category="set">
                        <set>
                             <member correct="yes">\text{Change in hours since 8 <init>a.m.</init>}</member>
                             <member>\text{Delta t}</member>
                             <member>\text{Delta times t}</member>
                             <member>\text{There is no meaning to this expression}</member>
                        </set>
                    </var>
                    <pg-code>
                        $chngDist = Real(20);
                        $meaning = PopUp(["?", "Change in hours since 8 <init>a.m.</init>", "Delta t", "Delta times t", "here is no meaning to this expression"], "Change in hours since 8 <init>a.m.</init>");
                    </pg-code>
                </setup>

                <statement>
                    <p>Use your best estimate from the graph to approximate <m>\Delta f</m> during the first 2 hours of the trip</p>
                    <p><m>\Delta f =</m> <var name="$chngDist" width="5" /> miles</p>
                    <p>What is the meaning of the expression <m>\Delta t</m> in the context of the train story? <var name="$meaning" form="popup" /></p>
                </statement>
            </webwork>
        </exercise>
    </subsection>
    <subsection>
        <title>Computing Average Rate of Change</title>
        <p>As we move from one point to another point on a function, there are two changes that take place. The input will change, call it <m>\Delta Input</m> and the output will change, call it <m>\Delta Output</m>.</p>
        <p>If we divide the two changes we get an <term>average rate of change</term>.</p>
        <p>An average rate of change  = <m>\frac{\Delta Output}{\Delta Input}</m></p>
        <p>Does this look familiar?  Think "rise over run".  Once again, average rate of change is just slope</p>
        <todo>Create the graph of a funciton f(x) = (x-2)(x+3). User places points on the graph at (-4,f(-4)), (-1, f(-1)) and (2, f(2)) these need to be correctly placed.  Then student has to find equations of lines that pass through the first two ordered pairs and through the last two ordered pairs. Somehow need to keep track of the points they plotted on the graph.</todo>

        <exercise>
            <webwork>
                <pg-macros>
                     <macro-file>parserImplicitPlane.pl</macro-file>
                </pg-macros>
                <setup>
                    <var name="$slope1">
                        <static>-4</static>
                    </var>
                    <var name="$slope2">
                        <static>2</static>
                    </var>
                    <var name="$lineA">
                       <static>y=-4x-10</static>
                    </var>
                    <var name="$lineB">
                       <static>y=2x-4</static>
                    </var>
                    <pg-code>
                        $slope1 = Real(-4);
                        $slope2 = Real(2);
                        Context()->variables->are(x=>'Real',y=>'Real');
                        $lineA = ImplicitPlane("y=-4x-10");
                        $lineB = ImplicitPlane("y=2x-4");
                    </pg-code>
                </setup>

                <statement>
                    <p>The graph of the function <m>f(x) = (x-2)(x+3)</m> is shown above.  Place a point at each of these ordered pairs: <m>(-4,f(-4))</m>, <m>(-1,f(-1))</m>, <m>(2,f(2))</m></p>
                    <p>Write the equation of the line passing through the points at <m>(-4,f(-4))</m> and <m>(-1,f(-1))</m></p>
                    <p>The equation for the line is <var name="$lineA" width="15" /></p>
                    <p>What is the slope of this line?</p>
                    <p>slope is <var name="$slope1" width="5" /></p>
                    <p>The slope of the line you found is called the average rate of change of the function on the interval <m>-4 \leq x \leq -1</m>.</p>
                    <p>This means that as <m>x</m> changes from <m>-4</m> to <m>-1</m>, the function drops by <m>-4</m> units per unit in x, on average.</p>
                    <p>Write the equation of the line passing through the points at <m>(-1,f(-1))</m> and <m>(2,f(2))</m></p>
                    <p>The equation for the line is <var name="$lineB" width="15" /></p>
                    <p>What is the slope of this line?</p>
                    <p>slope is <var name="$slope2" width="5" /></p>
                    <p>The slope of the line you found is called the average rate of change of the function on the interval <m>-1\leq x \leq 2</m>.</p>
                    <p>This means that as <m>x</m> changes from <m>-1</m> to <m>2</m>, the function increases by <m>2</m> units per unit in x, on average.</p>
                </statement>
            </webwork>
        </exercise>

    </subsection>
</section>
