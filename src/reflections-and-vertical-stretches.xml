<?xml version="1.0" encoding="UTF-8" ?>

<!--
## ********************************************************************* ##
## Copyright 2016                                                        ##
## Jack Green, Nick Chura                                                ##
##                                                                       ##
## This file is part of the Mount Hood Community College                 ##
## Precalculus Project                                                   ##
##                                                                       ##
## ********************************************************************* ##
-->

<chapter xml:id="chapter-reflections-and-vertical-stretches" xmlns:xi="http://www.w3.org/2001/XInclude">

    <title>Reflections and Vertical Stretches</title>

        <objectives>
          <title>Student Learning Outcomes</title>
          <ul>
            <li><p>Describe the effect of the transformation of the form <m>y = a\cdot f(x)</m> given the graph of <m>y = f(x)</m>, and sketch a graph.</p></li>
            <li><p>Describe the effects on the graph of a function <m>f(x)</m> when comparing <m>f(x)</m> to <m>f(-x)</m> or <m>-f(x)</m>.</p></li>
            <li><p>Use transformations to model situations algebraically (from verbal descriptions, graphs, tables, and data points). Recognize functions as transformations of basic functions.</p></li>
          </ul>
        </objectives>
        <todo>Maybe fix video below. A mistake at 5min 20sec</todo>
        <introduction>
          <list>
            <title>Video Lectures</title>
            <!-- If we can get these videos up onto YouTube, much easier to embed -->
            <dl>
              <li>
                <title>Reflections</title>
                <!-- <video source="http://stream.mhcc.edu/videos/greenja/captioned/m06-lec-stretch-factor-captioned_-_20150120_200703_26.html" /> -->
              </li>
              <li>
                <title>Vertical Stretches</title>
                <!-- <video source="http://stream.mhcc.edu/videos/greenja/captioned/m06-cyu-transformation-equations-captioned_-_20150120_183648_26.html" /> -->
              </li>
            </dl>
          </list>
        </introduction>

      <xi:include href="./activity-reflections.xml" />
      <xi:include href="./activity-vertical-stretches.xml" />

      <section xml:id="reflections-and-vertical-stretches-gist">
      <title>Gist of Reflections and Vertical Stretches</title>

      <subsection>
        <title>Reflections</title>

        <p>Thinking again of function notation as language, we know that the notation <m>f(x)</m> indicates that there is an input called <m>x</m> and an output called <m>f(x)</m>. Therefore, by replacing <m>x</m> with <m>-x</m> we are using the <term>opposite</term> of the <em>input</em>.</p>
        <p>Likewise, if we replace <m>f(x)</m> with <m>-f(x)</m>, we are referring to the <term>opposite</term> of the <em>output</em>.</p>
        <p>From a graphical standpoint, both of the transformations <m>-f(x)</m> and <m>f(-x)</m> represent reflections of a graph:</p>
        <dl>
          <title></title>
          <li>
            <title><m>-f(x)</m></title>
            <p>reflects of <m>f(x)</m> over the horizontal-axis</p>
          </li>
          <li>
            <title><m>f(-x)</m></title>
            <p>reflects <m>f(x)</m> over the vertical-axis</p>
          </li>
        </dl>

        <example>
            <p>The function <m>g(x) = x^3 - 5x^2 + 2</m> is graphed below.</p>

            <figure>
              <caption><m>g(x) = x^3 - 5x^2 + 2</m></caption>
                <image width="47%">
                  <latex-image-code>
                  <![CDATA[
                    \begin{tikzpicture}
                      \begin{axis}[xmax=6, xmin=-6,
                                  ymax=40, ymin=-40,
                                  ytick={},
                                  minor ytick={}]
                        \addplot+[domain=-3:6, samples=50] {x^3-5*x^2+2};
                      \end{axis}
                    \end{tikzpicture}
                  ]]>
                  </latex-image-code>
              </image>
            </figure>

            <sidebyside widths="48% 48%">
              <paragraphs>
                <p>To reflect <m>g(x)</m> over the <m>x</m>-axis, we would take the opposite of the output by multiplying the formula by <m>-1</m>.</p>
                  <p>The formula for this reflection is <md>
                    <mrow>y \amp= -g(x)</mrow>
                    <mrow>\amp= -1(x^3 - 5x^2 + 2)</mrow>
                    <mrow>\amp= -x^3 + 5x^2 - 2</mrow></md>
                    and it is graphed below:
                  </p>
              </paragraphs>

              <paragraphs>
                  <p>To reflect <m>g(x)</m> over the <m>y</m>-axis, we would use the opposite of the input by evaluating <m>g(-x)</m>.</p>
                  <p>The formula for this reflection is <md>
                    <mrow>y \amp= g(-x)</mrow>
                    <mrow>\amp= (-x)^3 - 5(-x)^2 + 2</mrow>
                    <mrow>\amp= -x^3 - 5x^2 + 2</mrow></md>
                    and it is graphed below:
                  </p>
              </paragraphs>
            </sidebyside>

            <sidebyside widths="48% 48%">
                  <figure>
                    <caption>The reflection <m>y = -g(x)</m></caption>
                      <image>
                          <latex-image-code>
                            <![CDATA[
                              \begin{tikzpicture}
                                \begin{axis}[xmax=6, xmin=-6,
                                            ymax=40, ymin=-40,
                                            ytick={},
                                            minor ytick={}]
                                  \addplot+[domain=-3:6, samples=50] {-x^3+5*x^2-2};
                                \end{axis}
                              \end{tikzpicture}
                            ]]>
                          </latex-image-code>
                      </image>
                  </figure>

                  <figure>
                    <caption>The reflection <m>y = g(-x)</m></caption>
                      <image>
                          <latex-image-code>
                            <![CDATA[
                              \begin{tikzpicture}
                                \begin{axis}[xmax=6, xmin=-6,
                                            ymax=40, ymin=-40,
                                            ytick={},
                                            minor ytick={}]
                                  \addplot+[domain=-6:3, samples=50] {(-x)^3-5*(-x)^2+2};
                                \end{axis}
                              \end{tikzpicture}
                            ]]>
                          </latex-image-code>
                      </image>
                  </figure>
            </sidebyside>
        </example>



<!--
      <exercise>
        <statement>
          <p>Let <m>f(x) = 5^x + 3x^2</m>, and use it to answer the following questions.</p>
          <ol>
            <li>
              <ul>
                <li><p>Compare the graphs of <m>y = f(x)</m> and <m>y = -f(x)</m>.</p></li>
                <li><p>What is the formula for <m>y = -f(x)</m>?</p></li>
              </ul>
            </li>
            <li>
              <ul>
                <li><p>Compare the graphs of <m>y = f(x)</m> and <m>y = f(-x)</m>.</p></li>
                <li><p>What is the formula for <m>y = f(-x)</m>?</p></li>
              </ul>
            </li>
          </ol>
        </statement>
        <answer>
          <p>The formula for <m>-f(x)</m> is <md>
          <mrow>-f(x) \amp= -(5^x + 3x^2)</mrow>
          <mrow>\amp= -5^x - 3x^2</mrow></md>
          and it is a reflection of <m>y = f(x)</m> over the <m>x</m>-axis.</p>
        </answer>
        <answer>
          <p>The formula for <m>f(-x)</m> is <md>
          <mrow>f(-x) \amp= 5^{-x} + 3(-x)^2</mrow>
          <mrow>\amp= \frac{1}{5^x} + 3x^2</mrow></md>
          and it is a reflection of <m>y = f(x)</m> over the <m>y</m>-axis.</p>
        </answer>
      </exercise>

    -->

      <p>Now practice writing the formula for a function which has been transformed.</p>

      <exercise>
        <webwork xml:id="transformation-formulas">
          <setup>
            <var name="$description1">
              <set>
                <member>\text{horizontal axis}</member>
                <member correct="yes">\text{vertical axis}</member>
              </set>
            </var>

            <var name="$description2">
              <set>
                <member>\text{up}</member>
                <member>\text{down}</member>
                <member>\text{to the left}</member>
                <member correct="yes">\text{to the right}</member>
              </set>
            </var>

            <var name="$description3">
              <set>
                <member correct="yes">\text{horizontal axis}</member>
                <member>\text{vertical axis}</member>
              </set>
            </var>

            <var name="$a"><static>3</static></var>
            <var name="$b"><static>8</static></var>
            <var name="$c"><static>2</static></var>
            <var name="$f"><static>(-n)^2-3(-n)+8</static></var>
            <var name="$g"><static>-((n-2)^2-3(n-2)+8)</static></var>
            <var name="$nMinusC"><static>n-2</static></var>

            <pg-code>
              $description1=PopUp(["?","horizontal axis","vertical axis"],"vertical axis");
              $description2=PopUp(["?","up","down","to the left","to the right"],"to the right");
              $description3=PopUp(["?","horizontal axis","vertical axis"],"horizontal axis");
              $a=random(2,9,1);
              do{$b=random(2,9,1)}until($a!=$b);
              do{$c=random(2,9,1)}until(($a!=$c)and($b!=$c));
              Context()->variables->are(x=>'Real');
              $f=Compute("(-x)^2-$a*(-x)+$b");
              $g=Compute("-((x-$c)^2-$a*(x-$c)+$b)");

              $nMinusC=Compute("x-$c");
            </pg-code>

          </setup>
          <statement>
            <p>Let <m>m(x) = x^2 - <var name="$a" />x + <var name="$b" /></m>.</p>
            <p><ol>
              <li><p>Write a formula for the transformation <m>m(-x)</m> and geometrically describe the transformation.</p>
              <p>To do this, use the <em>blank</em> method: write the output <m>x^2 - <var name="$a" />x + <var name="$b" /></m>, but replace all instances of the variable <m>x</m> with the new input, <m>-x</m>. Remember to use parentheses when substituting this in for <m>x</m>.</p>
              <p>Formula: <m>m(-x) = </m><var name="$f" width="15" /></p>
              <p>For the geometric description, remember that we are taking the opposite of the input variable, so this will affect the graph's position in the horizontal direction.</p>
              <p>Description: <m>m(-x)</m> will reflect the graph of <m>m(x)</m> over the <var name="$description1" form="popup" /></p></li>

              <li><p>Write a formula for the transformation <m>-m(x - </m><var name="$c" /><m>)</m>.</p>
              <p>Notice that there are two changes here: Subtracting <var name="$c" /> from the input, and the opposite symbol outside.</p>
              <p>First take care of the inside change by replacing all instances of the variable <m>x</m> with the new input, <m>x - <var name="$c" /></m>. Remember again to use parentheses when substituting this in for <m>x</m>.</p>
              <p>This would leave us with:</p>
              <p>(<var name="$nMinusC" width="6" /><m>)^2 - </m><var name="$a" />(<var name="$nMinusC" width="6" /><m>) + </m><var name="$b" /></p>
              <p>Next, take care of the outside change by putting the opposite symbol outside of this whole expression, remembering to use parentheses.</p>
              <p>Formula: <m>-m(x - </m><var name="$c" /><m>) = </m><var name="$g" width="15" /></p>
              <p>The inside change of subtracting <var name="$c" /> will move the graph in the horizontal direction. The outside change of taking the opposite will affect the output values by changing their sign.</p>
              <p>Description: <m>-m(x - <var name="$c" />)</m> will shift the graph of <m>m(x)</m> by <var name="$c" /> units <var name="$description2" form="popup"/> and reflect over the <var name="$description3" form="popup" /></p></li>
            </ol></p>
          </statement>
          <solution>
            <p><ol>
              <li><p>The formula for <m>m(-x)</m> is found by substituting <m>-x</m> in the place of <m>x</m> in the function <m>m(x)</m>. The original formula was <m>x^2 - </m><var name="$a" /><m>x + </m><var name="$b" />, so the result is:  <me><var name="$f" /></me></p></li>

              <li><p>The formula for <m>-m(x-</m><var name="$c" /><m>)</m> is found by substituting <m>(x-<var name="$c" />)</m> in the place of <m>x</m>, and then taking the opposite of that whole expression.</p>
              <p>The result is:  <m><var name="$g" /></m></p></li>
            </ol></p>
          </solution>
        </webwork>
      </exercise>
      <example>
        <statement>
          <p>When deep sea divers swim back to the surface of the water after a dive, they must do so slowly. If a diver ascends too quickly, they may experience <url href="https://en.wikipedia.org/wiki/Decompression_sickness">decompression sickness</url>. In order to prevent this, divers must ascend at a rate slower than <quantity><mag>33</mag><unit base="foot" /><per base="minute" /></quantity>.</p>
          <p>Suppose a diver begins at a depth of <quantity><mag>100</mag><unit base="foot" /></quantity> and ascends at a rate of <quantity><mag>30</mag><unit base="foot" /><per base="minute" /></quantity>.</p>
          <p>If we wanted to represent the diver's depth below the water as a function of time, we could write: <me>D = f(t) = 100 - 30t</me></p>
          <p>Alternatively, we could have written a function for the diver's <em>altitude</em> as a function of time. In this case, the diver's altitude when below the water would be <em>negative</em>, so our function would be: <me>A = g(t) = -100 + 30t</me></p>
          <p>Notice that the altitude is the opposite of the depth here, so our function <m>g(t)</m> is equal to <m>-f(t)</m>.</p>
          <p>The graphs below show these functions as reflections of each other over the horizontal axis.</p>
          <sidebyside widths="48% 48%">
                <figure>
                  <caption>The diver's depth: <m>D = f(t)</m></caption>
                    <image>
                        <latex-image-code>
                          <![CDATA[
                            \begin{tikzpicture}
                              \begin{axis}[xmax=4, xmin=-1,
                                          ymax=120, ymin=-120,
                                          ytick={},
                                          xlabel={t (min)},
                                          ylabel={D (feet)},
                                          minor ytick={}]
                                \addplot+[domain=0:3.333] {100-30*x};
                              \end{axis}
                            \end{tikzpicture}
                          ]]>
                        </latex-image-code>
                    </image>
                </figure>

                <figure>
                  <caption>The diver's altitude: <m>A = g(t) = -f(t)</m></caption>
                    <image>
                        <latex-image-code>
                          <![CDATA[
                            \begin{tikzpicture}
                              \begin{axis}[xmax=4, xmin=-1,
                                          ymax=120, ymin=-120,
                                          ytick={},
                                          xlabel={t (min)},
                                          ylabel={A (feet)},
                                          minor ytick={}]
                                \addplot+[domain=0:3.333] {-100+30*x};
                              \end{axis}
                            \end{tikzpicture}
                          ]]>
                        </latex-image-code>
                    </image>
                </figure>
          </sidebyside>
        </statement>
      </example>
    </subsection>
    <subsection>
        <title>Vertical Stretches and Compressions</title>
        <p>In addition to reflecting a function, we can also <term>stretch</term> or <term>compress</term> a function vertically by multiplying the output by a constant number <m>a</m>.</p>
        <dl>
          <title></title>
          <li>
            <title>If <m>a &gt; 1</m></title>
            <p><m>a\cdot f(x)</m> will vertically <term>stretch</term> the graph of <m>f(x)</m> by a factor of <m>a</m></p>
          </li>
          <li>
            <title>If <m>0 &lt; a &lt; 1</m></title>
            <p><m>a\cdot f(x)</m> will vertically <term>compress</term> the graph of <m>f(x)</m> by a factor of <m>a</m></p>
          </li>
        </dl>

      <example>
        <p>If we began with the function <me>f(x) = x^2 - 1</me> then the transformation <md>
        <mrow>3f(x) \amp= 3(x^2 - 1)</mrow>
        <mrow>\amp= 3x^2 - 3</mrow></md>
        would be just like <m>f(x) = x^2 - 1</m>, but all of its output values would be multiplied by <m>3</m>.</p>
            <table>
              <tabular top="major" halign="center">
                <col halign="left" />
                <col />
                <col />

                <row bottom="medium">
                  <cell><m>x</m></cell>
                  <cell><m>f(x)</m></cell>
                  <cell><m>3f(x)</m></cell>
                </row>
                <row bottom="medium">
                  <cell>-3</cell>
                  <cell>8</cell>
                  <cell>24</cell>
                </row>
                <row bottom="medium">
                  <cell>-2</cell>
                  <cell>3</cell>
                  <cell>9</cell>
                </row>
                <row bottom="medium">
                  <cell>-1</cell>
                  <cell>0</cell>
                  <cell>0</cell>
                </row>
                <row bottom="medium">
                  <cell>0</cell>
                  <cell>-1</cell>
                  <cell>-3</cell>
                </row>
                <row bottom="medium">
                  <cell>1</cell>
                  <cell>0</cell>
                  <cell>0</cell>
                </row>
                <row bottom="medium">
                  <cell>2</cell>
                  <cell>3</cell>
                  <cell>9</cell>
                </row>
                <row bottom="medium">
                  <cell>3</cell>
                  <cell>8</cell>
                  <cell>24</cell>
                </row>
              </tabular>
            </table>
        <p>Since the output values were all multiplied by <m>3</m>, this would make all of the <m>y</m> values of the points <m>3</m> times as far from zero (either positive or negative).</p>
        <p>Similarly, if we began with <m>f(x) = x^2 - 1</m>, then the transformation <md>
        <mrow>\frac{1}{2}f(x) \amp= \frac{1}{2}(x^2 - 1)</mrow>
        <mrow>\amp= \frac{1}{2}x^2 - \frac{1}{2}</mrow></md>
        would be just like <m>f(x)</m>, but all of its output values would be multiplied by <m>\frac{1}{2}</m>.</p>
        <table>
          <tabular top="major" halign="center">
            <col halign="left" />
            <col />
            <col />

            <row bottom="medium">
              <cell><m>x</m></cell>
              <cell><m>f(x)</m></cell>
              <cell><m>\frac{1}{2}f(x)</m></cell>
            </row>
            <row bottom="medium">
              <cell>-3</cell>
              <cell>8</cell>
              <cell>4</cell>
            </row>
            <row bottom="medium">
              <cell>-2</cell>
              <cell>3</cell>
              <cell>1.5</cell>
            </row>
            <row bottom="medium">
              <cell>-1</cell>
              <cell>0</cell>
              <cell>0</cell>
            </row>
            <row bottom="medium">
              <cell>0</cell>
              <cell>-1</cell>
              <cell>-0.5</cell>
            </row>
            <row bottom="medium">
              <cell>1</cell>
              <cell>0</cell>
              <cell>0</cell>
            </row>
            <row bottom="medium">
              <cell>2</cell>
              <cell>3</cell>
              <cell>1.5</cell>
            </row>
            <row bottom="medium">
              <cell>3</cell>
              <cell>8</cell>
              <cell>4</cell>
            </row>
          </tabular>
        </table>
        <p>Since the output values were all multiplied by <m>\frac{1}{2}</m>, this would make all of the <m>y</m> values of the points only half as far from zero (either positive or negative).</p>

        <sidebyside widths="32% 32% 32%">
          <figure>
            <caption><m>f(x) = x^2 - 1</m></caption>
              <image>
                  <latex-image-code>
                  <![CDATA[\begin{tikzpicture}
                              \begin{axis}[]
                                  \addplot+[domain=-3:3, samples=50]{x^2-1};
                               \end{axis}
                          \end{tikzpicture}
                  ]]>
                  </latex-image-code>
              </image>
          </figure>
          <figure>
            <caption><m>3f(x) = 3x^2 - 3</m></caption>
              <image>
                  <latex-image-code>
                  <![CDATA[\begin{tikzpicture}
                              \begin{axis}[]
                                  \addplot+[domain=-2:2, samples=50]{3*x^2-3};
                               \end{axis}
                          \end{tikzpicture}
                  ]]>
                  </latex-image-code>
              </image>
          </figure>
          <figure>
            <caption><m>\frac{1}{2}f(x) = \frac{1}{2}x^2 - \frac{1}{2}</m></caption>
              <image>
                  <latex-image-code>
                  <![CDATA[\begin{tikzpicture}
                              \begin{axis}[]
                                  \addplot+[domain=-4:4, samples=50]{0.5*x^2-0.5};
                               \end{axis}
                          \end{tikzpicture}
                  ]]>
                  </latex-image-code>
              </image>
          </figure>
        </sidebyside>

      </example>

      <note><p>In this section, we will not be exploring the transformation <m>f(a\cdot x)</m> which represents a horizontal stretch or compression.</p></note>
    </subsection>
  </section>
</chapter>

<!-- Extra problem

<exercise>
  <webwork xml:id="reflection-graphs-square-root-function">
    <setup>
      <var name="$reflectXAxis">
        <set>
          <member correct="yes">\text{To make the graph of }-f(x)\text{, you reflect (flip) the graph of }f(x)\text{ over the x-axis.}</member>
          <member>\text{To make the graph of }-f(x)\text{, you reflect (flip) the graph of }f(x)\text{ over the y-axis.}</member>
        </set>
      </var>
      <var name="$reflectYAxis">
        <set>
          <member>\text{To make the graph of }f(-x)\text{, you reflect (flip) the graph of }f(x)\text{ over the x-axis.}</member>
          <member correct="yes">\text{To make the graph of }f-(x)\text{, you reflect (flip) the graph of }f(x)\text{ over the y-axis.}</member>
        </set>
      </var>
      <pg-code>
        Context('Numeric');
        $reflectXAxis = RadioButtons(
        ["To make the graph of \(-f(x)\), you reflect (flip) the graph of \(f(x)\) over the x-axis.","To make the graph of \(-f(x)\), you reflect (flip) the graph of \(f(x)\) over the y-axis.","None of these"],0,labels => ["Flip over x-axis","Flip over y-axis","None of these"],displayLabels => 0
        );
        $reflectYAxis = RadioButtons(
        ["To make the graph of \(f(-x)\), you reflect (flip) the graph of \(f(x)\) over the x-axis.","To make the graph of \(f(-x)\), you reflect (flip) the graph of \(f(x)\) over the y-axis.","None of these"],1,labels => ["Flip over x-axis","Flip over y-axis","None of these"],displayLabels => 0
        );
      </pg-code>
    </setup>

    <statement>
      <p>The graph below shows <m>f(x) = \sqrt{x}</m>. Use the radio buttons to change the graph to either <m>-f(x)</m> or <m>f(-x)</m>.</p>
      <p>[@MODES(HTML=&gt;'&lt;iframe scrolling="no" src="https://www.geogebra.org/material/iframe/id/wrQyy2mH/width/438/height/367/border/888888/sri/true" width="438px" height="367px" style="border:0px;"&gt; &lt;/iframe&gt;', TeX =&gt;"A GeoGebra applet.");@]*</p>
      <p>The next graph shows <m>f(x) = 2^x</m>. Use the radio buttons to change the graph to either <m>-f(x)</m> or <m>f(-x)</m>.</p>
      <p>[@MODES(HTML=&gt;'&lt;iframe scrolling="no" src="https://www.geogebra.org/material/iframe/id/zW5SrRKw/width/438/height/429/border/888888/sri/true" width="438px" height="429px" style="border:0px;"&gt; &lt;/iframe&gt;', TeX =&gt;"A GeoGebra applet.");@]*</p>
      <p>Choose the correct statement below about the graph of <m>y = -f(x)</m>.</p>
      <p><var name="$reflectXAxis" form="buttons" /></p>
      <p>Choose the correct statement below about the graph of <m>y = f(-x)</m>.</p>
      <p><var name="$reflectYAxis" form="buttons" /></p>
    </statement>
  </webwork>
</exercise>

-->
